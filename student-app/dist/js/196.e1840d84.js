"use strict";(self["webpackChunkqimingyu_student_app"]=self["webpackChunkqimingyu_student_app"]||[]).push([[196],{9196:function(e,r,s){s.r(r),s.d(r,{default:function(){return m}});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login-register-container"},[e._m(0),r("div",{staticClass:"right-panel"},[r("el-card",{staticClass:"form-card"},[r("div",{staticClass:"form-header",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("学生注册")])]),r("el-form",{ref:"registerForm",attrs:{model:e.registerForm,rules:e.registerRules,"label-width":"80px"},nativeOn:{submit:function(r){return r.preventDefault(),e.handleRegister.apply(null,arguments)}}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-user"},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码 (至少6位)","prefix-icon":"el-icon-lock","show-password":""},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入密码","prefix-icon":"el-icon-check","show-password":""},model:{value:e.registerForm.confirmPassword,callback:function(r){e.$set(e.registerForm,"confirmPassword",r)},expression:"registerForm.confirmPassword"}})],1),r("el-form-item",[r("el-button",{staticClass:"register-button",attrs:{type:"primary",loading:e.loading},on:{click:e.handleRegister}},[e._v("注册")])],1)],1),r("div",{staticClass:"form-footer"},[r("el-link",{attrs:{type:"primary"},on:{click:e.goToLogin}},[e._v("已有账号？立即登录")])],1)],1)],1)])},o=[function(){var e=this,r=e._self._c;return r("div",{staticClass:"left-panel"},[r("div",{staticClass:"brand-placeholder"},[r("i",{staticClass:"el-icon-reading main-icon"}),r("h1",[e._v("启明隅")]),r("p",[e._v("点亮你的学习之路")])])])}],a=(s(4114),s(5353)),i={name:"RegisterPage",data(){const e=(e,r,s)=>{""===r?s(new Error("请再次输入密码")):r!==this.registerForm.password?s(new Error("两次输入密码不一致!")):s()};return{loading:!1,registerForm:{username:"",password:"",confirmPassword:""},registerRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名长度至少为3位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:e,trigger:"blur"}]}}},methods:{...(0,a.i0)(["showSnackbar"]),handleRegister(){this.$refs.registerForm.validate((e=>{if(!e)return console.log("注册表单验证失败"),!1;{this.loading=!0;const e={name:this.registerForm.username,contactType:"username",contact:this.registerForm.username,password:this.registerForm.password,role:"student"};console.log("发送注册请求:",e),this.$axios.post("/auth/register",e).then((e=>{console.log("注册成功:",e.data),this.showSnackbar({text:"注册成功！请登录。",color:"success"}),this.$router.push("/login")})).catch((e=>{console.error("注册失败:",e.response?.data||e.message);const r=e.response?.data?.message||"注册失败，请检查信息或稍后重试";this.showSnackbar({text:r,color:"error"})})).finally((()=>{this.loading=!1}))}}))},goToLogin(){this.$router.push("/login")}}},n=i,l=s(1656),c=(0,l.A)(n,t,o,!1,null,"8f92da1c",null),m=c.exports}}]);
//# sourceMappingURL=196.e1840d84.js.map