{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport AIToolCard from '../../components/ai/AIToolCard.vue';\nimport { getAiChats } from '../../services/aiService';\nexport default {\n  name: 'AiAssistant',\n  components: {\n    AIToolCard\n  },\n  setup() {\n    const recentChats = ref([]);\n    const loading = ref(true);\n    const error = ref('');\n\n    // AI学习工具列表\n    const aiTools = [{\n      id: 'ai-chat',\n      title: '启明助手对话',\n      description: '向启明助手提问，获取学习帮助和知识解答',\n      icon: 'fas fa-comments',\n      path: '/student/ai/new',\n      color: '#4285f4'\n    }, {\n      id: 'exercise-generator',\n      title: '启明练习生成器',\n      description: '根据需求生成各科目练习题和答案',\n      icon: 'fas fa-tasks',\n      path: '/student/ai/tools/exercises',\n      color: '#ea4335'\n    }, {\n      id: 'study-planner',\n      title: '学习计划制定',\n      description: '根据目标和时间生成个性化学习计划',\n      icon: 'fas fa-calendar-alt',\n      path: '/student/ai/tools/planner',\n      color: '#34a853'\n    }, {\n      id: 'concept-explainer',\n      title: '概念解析器',\n      description: '深入浅出地解释复杂学术概念',\n      icon: 'fas fa-lightbulb',\n      path: '/student/ai/tools/concepts',\n      color: '#fbbc05'\n    }, {\n      id: 'essay-helper',\n      title: '作文助手',\n      description: '获取写作思路、大纲和修改建议',\n      icon: 'fas fa-pen-fancy',\n      path: '/student/ai/tools/essay',\n      color: '#673ab7'\n    }, {\n      id: 'translation-helper',\n      title: '翻译助手',\n      description: '准确翻译并解释语言知识点',\n      icon: 'fas fa-language',\n      path: '/student/ai/tools/translation',\n      color: '#009688'\n    }];\n\n    // 加载最近的会话\n    onMounted(async () => {\n      try {\n        loading.value = true;\n        const result = await getAiChats(1, 5); // 只获取最近5条\n        recentChats.value = result.data;\n        loading.value = false;\n      } catch (err) {\n        error.value = '加载最近会话失败';\n        loading.value = false;\n        console.error('获取最近会话错误:', err);\n      }\n    });\n\n    // 格式化日期\n    const formatDate = dateString => {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('zh-CN', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    return {\n      recentChats,\n      loading,\n      error,\n      aiTools,\n      formatDate\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","AIToolCard","getAiChats","name","components","setup","recentChats","loading","error","aiTools","id","title","description","icon","path","color","value","result","data","err","console","formatDate","dateString","date","Date","toLocaleDateString","month","day","hour","minute"],"sources":["D:\\Code\\coding\\edu-platform\\client\\src\\views\\student\\AiAssistant.vue"],"sourcesContent":["<template>\r\n  <div class=\"ai-assistant-page\">\r\n    <div class=\"page-header\">\r\n      <h1>启明隅AI学习助手</h1>\r\n      <p class=\"page-description\">\r\n        智能学习伙伴，为您提供个性化的学习支持和解答\r\n      </p>\r\n    </div>\r\n\r\n    <div class=\"ai-tools-section\">\r\n      <div class=\"section-header\">\r\n        <h2>AI学习工具</h2>\r\n        <p>选择合适的工具开始你的学习之旅</p>\r\n      </div>\r\n\r\n      <div class=\"ai-tools-grid\">\r\n        <AIToolCard v-for=\"tool in aiTools\" :key=\"tool.id\" :tool=\"tool\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"recent-chats-section\">\r\n      <div class=\"section-header\">\r\n        <h2>最近会话</h2>\r\n        <router-link to=\"/student/ai/history\" class=\"view-all-link\">\r\n          查看全部 <i class=\"fas fa-chevron-right\"></i>\r\n        </router-link>\r\n      </div>\r\n\r\n      <div class=\"recent-chats-list\">\r\n        <div v-if=\"loading\" class=\"loading\">\r\n          <i class=\"fas fa-spinner fa-spin\"></i>\r\n          <span>加载最近会话...</span>\r\n        </div>\r\n        <div v-else-if=\"error\" class=\"error\">\r\n          <i class=\"fas fa-exclamation-circle\"></i>\r\n          <span>{{ error }}</span>\r\n        </div>\r\n        <div v-else-if=\"recentChats.length === 0\" class=\"no-chats\">\r\n          <i class=\"fas fa-comment-slash\"></i>\r\n          <p>暂无历史会话</p>\r\n          <router-link to=\"/student/ai/new\" class=\"start-chat-btn\">\r\n            开始第一次对话\r\n          </router-link>\r\n        </div>\r\n        <div v-else class=\"chats-grid\">\r\n          <router-link\r\n            v-for=\"chat in recentChats\"\r\n            :key=\"chat._id\"\r\n            :to=\"`/student/ai/chat/${chat._id}`\"\r\n            class=\"chat-card\"\r\n          >\r\n            <div class=\"chat-card-header\">\r\n              <div class=\"chat-title\">{{ chat.title }}</div>\r\n              <div class=\"chat-subject\">{{ chat.subject }}</div>\r\n            </div>\r\n            <div class=\"chat-card-footer\">\r\n              <div class=\"chat-time\">\r\n                <i class=\"far fa-clock\"></i>\r\n                {{ formatDate(chat.updatedAt) }}\r\n              </div>\r\n              <div class=\"chat-action\">\r\n                <span>继续对话</span>\r\n                <i class=\"fas fa-arrow-right\"></i>\r\n              </div>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"ai-features-section\">\r\n      <div class=\"section-header\">\r\n        <h2>启明助手能做什么？</h2>\r\n      </div>\r\n\r\n      <div class=\"features-grid\">\r\n        <div class=\"feature-card\">\r\n          <div class=\"feature-icon\">\r\n            <i class=\"fas fa-question-circle\"></i>\r\n          </div>\r\n          <h3>解答问题</h3>\r\n          <p>启明助手能提供各学科知识问题的准确答案和详细解释</p>\r\n        </div>\r\n\r\n        <div class=\"feature-card\">\r\n          <div class=\"feature-icon\">\r\n            <i class=\"fas fa-chalkboard-teacher\"></i>\r\n          </div>\r\n          <h3>知识讲解</h3>\r\n          <p>以通俗易懂的方式解释复杂概念和原理</p>\r\n        </div>\r\n\r\n        <div class=\"feature-card\">\r\n          <div class=\"feature-icon\">\r\n            <i class=\"fas fa-edit\"></i>\r\n          </div>\r\n          <h3>作业辅导</h3>\r\n          <p>提供解题思路和方法，帮助完成作业</p>\r\n        </div>\r\n\r\n        <div class=\"feature-card\">\r\n          <div class=\"feature-icon\">\r\n            <i class=\"fas fa-book\"></i>\r\n          </div>\r\n          <h3>学习资料</h3>\r\n          <p>根据需求生成个性化学习资料和复习提纲</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport AIToolCard from '../../components/ai/AIToolCard.vue'\r\nimport { getAiChats } from '../../services/aiService'\r\n\r\nexport default {\r\n  name: 'AiAssistant',\r\n  components: {\r\n    AIToolCard\r\n  },\r\n  setup() {\r\n    const recentChats = ref([])\r\n    const loading = ref(true)\r\n    const error = ref('')\r\n\r\n    // AI学习工具列表\r\n    const aiTools = [\r\n      {\r\n        id: 'ai-chat',\r\n        title: '启明助手对话',\r\n        description: '向启明助手提问，获取学习帮助和知识解答',\r\n        icon: 'fas fa-comments',\r\n        path: '/student/ai/new',\r\n        color: '#4285f4'\r\n      },\r\n      {\r\n        id: 'exercise-generator',\r\n        title: '启明练习生成器',\r\n        description: '根据需求生成各科目练习题和答案',\r\n        icon: 'fas fa-tasks',\r\n        path: '/student/ai/tools/exercises',\r\n        color: '#ea4335'\r\n      },\r\n      {\r\n        id: 'study-planner',\r\n        title: '学习计划制定',\r\n        description: '根据目标和时间生成个性化学习计划',\r\n        icon: 'fas fa-calendar-alt',\r\n        path: '/student/ai/tools/planner',\r\n        color: '#34a853'\r\n      },\r\n      {\r\n        id: 'concept-explainer',\r\n        title: '概念解析器',\r\n        description: '深入浅出地解释复杂学术概念',\r\n        icon: 'fas fa-lightbulb',\r\n        path: '/student/ai/tools/concepts',\r\n        color: '#fbbc05'\r\n      },\r\n      {\r\n        id: 'essay-helper',\r\n        title: '作文助手',\r\n        description: '获取写作思路、大纲和修改建议',\r\n        icon: 'fas fa-pen-fancy',\r\n        path: '/student/ai/tools/essay',\r\n        color: '#673ab7'\r\n      },\r\n      {\r\n        id: 'translation-helper',\r\n        title: '翻译助手',\r\n        description: '准确翻译并解释语言知识点',\r\n        icon: 'fas fa-language',\r\n        path: '/student/ai/tools/translation',\r\n        color: '#009688'\r\n      }\r\n    ]\r\n\r\n    // 加载最近的会话\r\n    onMounted(async () => {\r\n      try {\r\n        loading.value = true\r\n        const result = await getAiChats(1, 5) // 只获取最近5条\r\n        recentChats.value = result.data\r\n        loading.value = false\r\n      } catch (err) {\r\n        error.value = '加载最近会话失败'\r\n        loading.value = false\r\n        console.error('获取最近会话错误:', err)\r\n      }\r\n    })\r\n\r\n    // 格式化日期\r\n    const formatDate = (dateString) => {\r\n      const date = new Date(dateString)\r\n      return date.toLocaleDateString('zh-CN', {\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      })\r\n    }\r\n\r\n    return {\r\n      recentChats,\r\n      loading,\r\n      error,\r\n      aiTools,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"AAiHA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,OAAOC,UAAS,MAAO,oCAAmC;AAC1D,SAASC,UAAS,QAAS,0BAAyB;AAEpD,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,KAAKA,CAAA,EAAG;IACN,MAAMC,WAAU,GAAIP,GAAG,CAAC,EAAE;IAC1B,MAAMQ,OAAM,GAAIR,GAAG,CAAC,IAAI;IACxB,MAAMS,KAAI,GAAIT,GAAG,CAAC,EAAE;;IAEpB;IACA,MAAMU,OAAM,GAAI,CACd;MACEC,EAAE,EAAE,SAAS;MACbC,KAAK,EAAE,QAAQ;MACfC,WAAW,EAAE,qBAAqB;MAClCC,IAAI,EAAE,iBAAiB;MACvBC,IAAI,EAAE,iBAAiB;MACvBC,KAAK,EAAE;IACT,CAAC,EACD;MACEL,EAAE,EAAE,oBAAoB;MACxBC,KAAK,EAAE,SAAS;MAChBC,WAAW,EAAE,iBAAiB;MAC9BC,IAAI,EAAE,cAAc;MACpBC,IAAI,EAAE,6BAA6B;MACnCC,KAAK,EAAE;IACT,CAAC,EACD;MACEL,EAAE,EAAE,eAAe;MACnBC,KAAK,EAAE,QAAQ;MACfC,WAAW,EAAE,kBAAkB;MAC/BC,IAAI,EAAE,qBAAqB;MAC3BC,IAAI,EAAE,2BAA2B;MACjCC,KAAK,EAAE;IACT,CAAC,EACD;MACEL,EAAE,EAAE,mBAAmB;MACvBC,KAAK,EAAE,OAAO;MACdC,WAAW,EAAE,eAAe;MAC5BC,IAAI,EAAE,kBAAkB;MACxBC,IAAI,EAAE,4BAA4B;MAClCC,KAAK,EAAE;IACT,CAAC,EACD;MACEL,EAAE,EAAE,cAAc;MAClBC,KAAK,EAAE,MAAM;MACbC,WAAW,EAAE,gBAAgB;MAC7BC,IAAI,EAAE,kBAAkB;MACxBC,IAAI,EAAE,yBAAyB;MAC/BC,KAAK,EAAE;IACT,CAAC,EACD;MACEL,EAAE,EAAE,oBAAoB;MACxBC,KAAK,EAAE,MAAM;MACbC,WAAW,EAAE,cAAc;MAC3BC,IAAI,EAAE,iBAAiB;MACvBC,IAAI,EAAE,+BAA+B;MACrCC,KAAK,EAAE;IACT,EACF;;IAEA;IACAf,SAAS,CAAC,YAAY;MACpB,IAAI;QACFO,OAAO,CAACS,KAAI,GAAI,IAAG;QACnB,MAAMC,MAAK,GAAI,MAAMf,UAAU,CAAC,CAAC,EAAE,CAAC,GAAE;QACtCI,WAAW,CAACU,KAAI,GAAIC,MAAM,CAACC,IAAG;QAC9BX,OAAO,CAACS,KAAI,GAAI,KAAI;MACtB,EAAE,OAAOG,GAAG,EAAE;QACZX,KAAK,CAACQ,KAAI,GAAI,UAAS;QACvBT,OAAO,CAACS,KAAI,GAAI,KAAI;QACpBI,OAAO,CAACZ,KAAK,CAAC,WAAW,EAAEW,GAAG;MAChC;IACF,CAAC;;IAED;IACA,MAAME,UAAS,GAAKC,UAAU,IAAK;MACjC,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU;MAChC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;QACtCC,KAAK,EAAE,OAAO;QACdC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;MACV,CAAC;IACH;IAEA,OAAO;MACLvB,WAAW;MACXC,OAAO;MACPC,KAAK;MACLC,OAAO;MACPY;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}