{"remainingRequest":"D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Code\\coding\\edu-platform\\teacher-app\\src\\App.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\coding\\edu-platform\\teacher-app\\src\\App.vue","mtime":1742360587126},{"path":"D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742112399727},{"path":"D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1742112394150},{"path":"D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742112399727},{"path":"D:\\Code\\coding\\edu-platform\\teacher-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1742112399313}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29tcHV0ZWQsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIGNvbnN0IGlzTG9nZ2VkSW4gPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5nZXR0ZXJzLmlzQXV0aGVudGljYXRlZCk7CiAgICBjb25zdCB0ZWFjaGVyTmFtZSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLnRlYWNoZXIgJiYgc3RvcmUuc3RhdGUudGVhY2hlci5uYW1lID8gc3RvcmUuc3RhdGUudGVhY2hlci5uYW1lIDogJ+aVmeW4iOeUqOaItyc7CiAgICB9KTsKICAgIGNvbnN0IHBlbmRpbmdDb25zdWx0YXRpb25Db3VudCA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMucGVuZGluZ0NvbnN1bHRhdGlvbkNvdW50KTsKICAgIGNvbnN0IGFjdGl2ZUNvbnN1bHRhdGlvbkNvdW50ID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy5hY3RpdmVDb25zdWx0YXRpb25Db3VudCk7CiAgICBjb25zdCBnZXRQYWdlVGl0bGUgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGNvbnN0IHJvdXRlTmFtZSA9IHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUubmFtZTsKICAgICAgY29uc3QgdGl0bGVzID0gewogICAgICAgICdEYXNoYm9hcmQnOiAn5o6n5Yi25Y+wJywKICAgICAgICAnUmVzb3VyY2VNYW5hZ2VtZW50JzogJ+i1hOa6kOeuoeeQhicsCiAgICAgICAgJ0NvbnN1bHRhdGlvblJlcXVlc3RzJzogJ+WSqOivouivt+axgicsCiAgICAgICAgJ0FjdGl2ZUNvbnN1bHRhdGlvbnMnOiAn6L+b6KGM5Lit5ZKo6K+iJywKICAgICAgICAnVGVhY2hlclByb2ZpbGUnOiAn5Liq5Lq65Lit5b+DJwogICAgICB9OwogICAgICByZXR1cm4gdGl0bGVzW3JvdXRlTmFtZV0gfHwgJ+aVmeW4iOW5s+WPsCc7CiAgICB9KTsKICAgIGNvbnN0IGhhbmRsZUNvbW1hbmQgPSBjb21tYW5kID0+IHsKICAgICAgaWYgKGNvbW1hbmQgPT09ICdsb2dvdXQnKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpOwogICAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAncHJvZmlsZScpIHsKICAgICAgICByb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKTsKICAgICAgfQogICAgfTsKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGVhY2hlclRva2VuJykpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnZmV0Y2hUZWFjaGVyUHJvZmlsZScpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdmZXRjaENvbnN1bHRhdGlvblJlcXVlc3RzJyk7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2ZldGNoQWN0aXZlQ29uc3VsdGF0aW9ucycpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGlzTG9nZ2VkSW4sCiAgICAgIHRlYWNoZXJOYW1lLAogICAgICBwZW5kaW5nQ29uc3VsdGF0aW9uQ291bnQsCiAgICAgIGFjdGl2ZUNvbnN1bHRhdGlvbkNvdW50LAogICAgICBnZXRQYWdlVGl0bGUsCiAgICAgIGhhbmRsZUNvbW1hbmQKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["computed","onMounted","useStore","useRouter","name","setup","store","router","isLoggedIn","getters","isAuthenticated","teacherName","state","teacher","pendingConsultationCount","activeConsultationCount","getPageTitle","routeName","currentRoute","value","titles","handleCommand","command","dispatch","push","localStorage","getItem"],"sources":["D:\\Code\\coding\\edu-platform\\teacher-app\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-container v-if=\"isLoggedIn\">\r\n      <el-aside width=\"250px\" class=\"sidebar\">\r\n        <div class=\"logo\">\r\n          <h2>教师资源平台</h2>\r\n        </div>\r\n        <el-menu\r\n          :router=\"true\"\r\n          default-active=\"/\"\r\n          class=\"el-menu-vertical\"\r\n          background-color=\"#001529\"\r\n          text-color=\"#fff\"\r\n          active-text-color=\"#409EFF\">\r\n          <el-menu-item index=\"/\">\r\n            <el-icon><i class=\"el-icon-s-home\"></i></el-icon>\r\n            <span>控制台</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/resources\">\r\n            <el-icon><i class=\"el-icon-folder-opened\"></i></el-icon>\r\n            <span>资源管理</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/consultation-requests\">\r\n            <el-icon><i class=\"el-icon-message\"></i></el-icon>\r\n            <span>咨询请求</span>\r\n            <el-badge :value=\"pendingConsultationCount\" class=\"consultation-badge\" :hidden=\"!pendingConsultationCount\" />\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/active-consultations\">\r\n            <el-icon><i class=\"el-icon-chat-line-round\"></i></el-icon>\r\n            <span>进行中咨询</span>\r\n            <el-badge :value=\"activeConsultationCount\" class=\"consultation-badge\" :hidden=\"!activeConsultationCount\" />\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/profile\">\r\n            <el-icon><i class=\"el-icon-user\"></i></el-icon>\r\n            <span>个人中心</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </el-aside>\r\n      \r\n      <el-container class=\"main-container\">\r\n        <el-header class=\"header\">\r\n          <div class=\"header-left\">\r\n            <h3>{{ getPageTitle }}</h3>\r\n          </div>\r\n          <div class=\"header-right\">\r\n            <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n              <span class=\"el-dropdown-link\">\r\n                {{ teacherName }} <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n              </span>\r\n              <template #dropdown>\r\n                <el-dropdown-menu>\r\n                  <el-dropdown-item command=\"profile\">个人中心</el-dropdown-item>\r\n                  <el-dropdown-item command=\"settings\">设置</el-dropdown-item>\r\n                  <el-dropdown-item divided command=\"logout\">退出登录</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </template>\r\n            </el-dropdown>\r\n          </div>\r\n        </el-header>\r\n        \r\n        <el-main>\r\n          <router-view />\r\n        </el-main>\r\n        \r\n        <el-footer class=\"footer\">\r\n          <p>© 2023 教育资源分配系统 - 教师平台</p>\r\n        </el-footer>\r\n      </el-container>\r\n    </el-container>\r\n    \r\n    <router-view v-else />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'App',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    \r\n    const isLoggedIn = computed(() => store.getters.isAuthenticated)\r\n    const teacherName = computed(() => {\r\n      return store.state.teacher && store.state.teacher.name ? store.state.teacher.name : '教师用户'\r\n    })\r\n    const pendingConsultationCount = computed(() => store.getters.pendingConsultationCount)\r\n    const activeConsultationCount = computed(() => store.getters.activeConsultationCount)\r\n    \r\n    const getPageTitle = computed(() => {\r\n      const routeName = router.currentRoute.value.name\r\n      const titles = {\r\n        'Dashboard': '控制台',\r\n        'ResourceManagement': '资源管理',\r\n        'ConsultationRequests': '咨询请求',\r\n        'ActiveConsultations': '进行中咨询',\r\n        'TeacherProfile': '个人中心'\r\n      }\r\n      return titles[routeName] || '教师平台'\r\n    })\r\n    \r\n    const handleCommand = (command) => {\r\n      if (command === 'logout') {\r\n        store.dispatch('logout')\r\n        router.push('/login')\r\n      } else if (command === 'profile') {\r\n        router.push('/profile')\r\n      }\r\n    }\r\n    \r\n    onMounted(() => {\r\n      if (localStorage.getItem('teacherToken')) {\r\n        store.dispatch('fetchTeacherProfile')\r\n        store.dispatch('fetchConsultationRequests')\r\n        store.dispatch('fetchActiveConsultations')\r\n      }\r\n    })\r\n    \r\n    return {\r\n      isLoggedIn,\r\n      teacherName,\r\n      pendingConsultationCount,\r\n      activeConsultationCount,\r\n      getPageTitle,\r\n      handleCommand\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB',\r\n    'Microsoft YaHei', SimSun, sans-serif;\r\n  background-color: #f0f2f5;\r\n}\r\n\r\n.app-container {\r\n  height: 100vh;\r\n}\r\n\r\n.sidebar {\r\n  background-color: #001529;\r\n  color: white;\r\n  height: 100vh;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  overflow-y: auto;\r\n}\r\n\r\n.logo {\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.logo h2 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.el-menu {\r\n  border-right: none;\r\n}\r\n\r\n.main-container {\r\n  margin-left: 250px;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  background-color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 20px;\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.header-left h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #409EFF;\r\n}\r\n\r\n.el-main {\r\n  background-color: #f0f2f5;\r\n  padding: 20px;\r\n}\r\n\r\n.footer {\r\n  text-align: center;\r\n  color: #666;\r\n  font-size: 14px;\r\n  padding: 15px 0;\r\n  background-color: white;\r\n}\r\n\r\n.consultation-badge {\r\n  margin-top: 2px;\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n"],"mappings":"AA2EA,SAASA,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACxC,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,MAAK,GAAIJ,SAAS,CAAC;IAEzB,MAAMK,UAAS,GAAIR,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAACC,eAAe;IAC/D,MAAMC,WAAU,GAAIX,QAAQ,CAAC,MAAM;MACjC,OAAOM,KAAK,CAACM,KAAK,CAACC,OAAM,IAAKP,KAAK,CAACM,KAAK,CAACC,OAAO,CAACT,IAAG,GAAIE,KAAK,CAACM,KAAK,CAACC,OAAO,CAACT,IAAG,GAAI,MAAK;IAC3F,CAAC;IACD,MAAMU,wBAAuB,GAAId,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAACK,wBAAwB;IACtF,MAAMC,uBAAsB,GAAIf,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAACM,uBAAuB;IAEpF,MAAMC,YAAW,GAAIhB,QAAQ,CAAC,MAAM;MAClC,MAAMiB,SAAQ,GAAIV,MAAM,CAACW,YAAY,CAACC,KAAK,CAACf,IAAG;MAC/C,MAAMgB,MAAK,GAAI;QACb,WAAW,EAAE,KAAK;QAClB,oBAAoB,EAAE,MAAM;QAC5B,sBAAsB,EAAE,MAAM;QAC9B,qBAAqB,EAAE,OAAO;QAC9B,gBAAgB,EAAE;MACpB;MACA,OAAOA,MAAM,CAACH,SAAS,KAAK,MAAK;IACnC,CAAC;IAED,MAAMI,aAAY,GAAKC,OAAO,IAAK;MACjC,IAAIA,OAAM,KAAM,QAAQ,EAAE;QACxBhB,KAAK,CAACiB,QAAQ,CAAC,QAAQ;QACvBhB,MAAM,CAACiB,IAAI,CAAC,QAAQ;MACtB,OAAO,IAAIF,OAAM,KAAM,SAAS,EAAE;QAChCf,MAAM,CAACiB,IAAI,CAAC,UAAU;MACxB;IACF;IAEAvB,SAAS,CAAC,MAAM;MACd,IAAIwB,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAE;QACxCpB,KAAK,CAACiB,QAAQ,CAAC,qBAAqB;QACpCjB,KAAK,CAACiB,QAAQ,CAAC,2BAA2B;QAC1CjB,KAAK,CAACiB,QAAQ,CAAC,0BAA0B;MAC3C;IACF,CAAC;IAED,OAAO;MACLf,UAAU;MACVG,WAAW;MACXG,wBAAwB;MACxBC,uBAAuB;MACvBC,YAAY;MACZK;IACF;EACF;AACF","ignoreList":[]}]}